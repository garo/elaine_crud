<%# Inline edit row partial - shows form fields within the table row %>
<tr class="bg-blue-50 border-2 border-blue-200">
  <%= form_with model: record, url: url_for(action: :update, id: record.id), 
                local: true, class: "contents" do |form| %>
    <%= hidden_field_tag :from_inline_edit, true %>
    
    <% @columns.each do |column| %>
      <td class="px-6 py-4 text-sm text-gray-900">
        <div class="space-y-1">
          <div class="text-xs font-medium text-gray-700">
            <%= field_title(column.to_sym) %>
            <% if record.errors[column.to_sym].any? %>
              <span class="text-red-500 font-normal">
                (<%= record.errors[column.to_sym].first %>)
              </span>
            <% end %>
          </div>
          <div>
            <%= render_form_field(form, record, column.to_sym) %>
          </div>
          <% if field_description(column.to_sym).present? %>
            <div class="text-xs text-gray-500">
              <%= field_description(column.to_sym) %>
            </div>
          <% end %>
        </div>
      </td>
    <% end %>
    
    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
      <div class="flex space-x-2">
        <%= form.submit "Save", 
            class: "bg-green-500 hover:bg-green-700 text-white font-bold py-1 px-3 rounded text-xs" %>
        <%= link_to "Cancel", 
            url_for(action: :index), 
            class: "bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-1 px-3 rounded text-xs" %>
      </div>
    </td>
  <% end %>
</tr>